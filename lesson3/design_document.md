# Design Document
## 第三週目　宿題

### 宿題1 掛け算、割り算への対応
- evaluate_inside_bracketsという関数を作って、その中で関数calculate_multiply_and_divideで掛け算割り算の計算をした後、
関数calculate_plus_and_minus（ほとんど元の関数evaluateと同じもの）で足し算割り算の計算をした

### 宿題2 テストケースの追加
- エッジケースとして、0が入った計算のケース、数が大きいケース、"1"などのそもそも計算が行われないようなケースなどを意識的に追加した

### 宿題3 カッコを含んだ計算への対応
- 式の中で最も優先度の高いカッコを見つけ、その中身を計算し計算結果をカッコと置き換えることで、次々とカッコを計算していく方法をとった
- 具体的には以下の通り
    - 関数tokenizeで文字列を字句に分割し、tokensというリストを作る
    - 関数calculateでtokensを計算
        - 最も優先度の高いカッコを見つける
        - 優先度の高いカッコの中身をevalute_inside_brackets関数を使って計算
        - その答えでカッコの中身を置き換え、tokensを更新
        - これをカッコがなくなるまで繰り返す
- 気になった点は、カッコの中身を計算しtokensを置き換える度に最も優先度の高いカッコを見つけていることである
    - 最初にカッコの組み合わせとそれぞれの優先順位を取得し、その後はそのデータを元にどのカッコから計算するかを定める方法も考えた。しかし、tokensが更新される度に、カッコの位置に対応するindexも更新していく必要があるため、操作が逆に分かりにくくなってしまうのではないかと考え直した
    - 良い方法が思い浮かばず、時間の関係もあり、毎回tokensが更新されるたびに一から最も優先度の高いカッコを見つけるという方法で実装した